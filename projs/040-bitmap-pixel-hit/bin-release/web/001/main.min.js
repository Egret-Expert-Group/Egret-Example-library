var Main=function(t){function e(){t.call(this),this.once(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.onAddToStage=function(t){var e=new egret.ImageLoader;e.once(egret.Event.COMPLETE,this.imgLoadHandler,this),e.load("resource/cartoon-egret_00.png")},n.launchCollisionTest=function(){this._bigbird.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandler,this),this._bigbird.pixelHitTest=!1,this._bigbird.touchEnabled=!0,this.updateInfo(!1)},n.checkCollision=function(t,e,i){this._dot.x=t,this._dot.y=e,this.updateInfo(i)},n.touchHandler=function(t){switch(t.type){case egret.TouchEvent.TOUCH_MOVE:this.checkCollision(t.stageX,t.stageY,!0);break;case egret.TouchEvent.TOUCH_BEGIN:this._txInfo.hitTestPoint(t.stageX,t.stageY)||(t.currentTarget.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchHandler,this),t.currentTarget.once(egret.TouchEvent.TOUCH_END,this.touchHandler,this),this.addChild(this._dot),this.checkCollision(t.stageX,t.stageY,!0));break;case egret.TouchEvent.TOUCH_END:case egret.TouchEvent.TOUCH_RELEASE_OUTSIDE:t.currentTarget.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchHandler,this),t.currentTarget.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandler,this),this._dot.parent&&this._dot.parent.removeChild(this._dot),this.updateInfo(!1)}},n.updateInfo=function(t){this._txInfo.text="点击穿透检测结果："+(t?"别碰我！！":"还没碰到！")+"\n\n点击穿透检测模式："+(this._bigbird.pixelHitTest?"小白鹭透明穿透":"小白鹭无穿透")+"\n（轻触文字区切换）"},n.imgLoadHandler=function(t){var e=this;this._bigbird=new egret.Bitmap(t.currentTarget.data),this.addChild(this._bigbird),this._bigbird.anchorOffsetX=this._bigbird.width/2,this._bigbird.anchorOffsetY=this._bigbird.height/2,this._bigbird.x=.5*this.stage.stageWidth,this._bigbird.y=.618*this.stage.stageHeight,this._bigbird.rotation=35,this._dot=new egret.Shape,this._dot.graphics.beginFill(65280),this._dot.graphics.drawCircle(0,0,5),this._dot.graphics.endFill(),this._txInfo=new egret.TextField,this.addChild(this._txInfo),this._txInfo.size=28,this._txInfo.x=50,this._txInfo.y=50,this._txInfo.textAlign=egret.HorizontalAlign.LEFT,this._txInfo.textColor=0,this._txInfo.type=egret.TextFieldType.DYNAMIC,this._txInfo.lineSpacing=6,this._txInfo.multiline=!0,this._txInfo.touchEnabled=!0,this._txInfo.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){t.stopImmediatePropagation(),e._bigbird.pixelHitTest=!e._bigbird.pixelHitTest,e.updateInfo(!1)},this),this.launchCollisionTest()},e}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var TouchCollideStatus=function(){function t(){}var e=(__define,t);e.prototype;return t.NO_TOUCHED=0,t.TOUCHED_NO_COLLIDED=1,t.COLLIDED=2,t}();egret.registerClass(TouchCollideStatus,"TouchCollideStatus");