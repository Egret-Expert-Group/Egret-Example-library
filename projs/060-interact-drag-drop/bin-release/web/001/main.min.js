var Main=function(t){function e(){t.call(this),this._touchStatus=!1,this._distance=new egret.Point,this.once(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.onAddToStage=function(t){var e=new egret.ImageLoader;e.once(egret.Event.COMPLETE,this.imgLoadHandler,this),e.load("resource/cartoon-egret_00_small.png")},s.imgLoadHandler=function(t){this._bird=new egret.Bitmap(t.currentTarget.data),this._bird.x=this.stage.stageWidth/2,this._bird.y=this.stage.stageHeight/2,this.addChild(this._bird),this.drawText(),this._bird.touchEnabled=!0,this._bird.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this._bird.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this)},s.mouseDown=function(t){console.log("Mouse Down."),this._touchStatus=!0,this._distance.x=t.stageX-this._bird.x,this._distance.y=t.stageY-this._bird.y,this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},s.mouseMove=function(t){this._touchStatus&&(console.log("moving now ! Mouse: [X:"+t.stageX+",Y:"+t.stageY+"]"),this._bird.x=t.stageX-this._distance.x,this._bird.y=t.stageY-this._distance.y)},s.mouseUp=function(t){console.log("Mouse Up."),this._touchStatus=!1,this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},s.drawText=function(){this._txInfo=new egret.TextField,this.addChild(this._txInfo),this._txInfo.size=28,this._txInfo.x=50,this._txInfo.y=50,this._txInfo.textAlign=egret.HorizontalAlign.LEFT,this._txInfo.textColor=0,this._txInfo.type=egret.TextFieldType.DYNAMIC,this._txInfo.lineSpacing=6,this._txInfo.multiline=!0,this._txInfo.text="按住显示对象即可拖拽，释放鼠标停止拖拽",this._bgInfo=new egret.Shape,this.addChildAt(this._bgInfo,this.numChildren-1),this._bgInfo.x=this._txInfo.x,this._bgInfo.y=this._txInfo.y,this._bgInfo.graphics.clear(),this._bgInfo.graphics.beginFill(16777215,.5),this._bgInfo.graphics.drawRect(0,0,this._txInfo.width,this._txInfo.height),this._bgInfo.graphics.endFill()},e}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");