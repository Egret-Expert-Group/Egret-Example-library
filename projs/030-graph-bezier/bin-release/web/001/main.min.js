var Main=function(e){function t(){e.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(t,e);var i=(__define,t),n=i.prototype;return n.onAddToStage=function(e){this._shape=new egret.Shape,this.addChild(this._shape),this.init(),this.initGraphics()},n.initGraphics=function(){var e=this._shape;e.graphics.lineStyle(3,16715760),e.graphics.moveTo(140,400),e.graphics.curveTo(340,200,480,500)},n.resetCure=function(){var e=this._shape;e.graphics.clear(),e.graphics.lineStyle(3,16715760),e.graphics.moveTo(this._startShape.x,this._startShape.y),e.graphics.curveTo(this._control.x,this._control.y,this._anchor.x,this._anchor.y)},n.init=function(){this._startShape=this.initShape(140,400,16776960),this._control=this.initShape(340,200,16711680),this._anchor=this.initShape(480,500,4080)},n.initShape=function(e,t,i){var n=new egret.Shape;return n.graphics.beginFill(i),n.graphics.drawCircle(0,0,20),n.graphics.endFill(),this.addChild(n),n.x=e,n.y=t,n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBeginHandler,this),n},n.onBeginHandler=function(e){e.stopImmediatePropagation(),this.drapShape=e.currentTarget,this.drapShape.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBeginHandler,this),this.drapShape.touchEnabled=!1,this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMoveHandler,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onEndHandler,this)},n.onMoveHandler=function(e){this.drapShape.x=e.stageX,this.drapShape.y=e.stageY,this.resetCure()},n.onEndHandler=function(e){this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMoveHandler,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onEndHandler,this),this.drapShape.touchEnabled=!0,this.drapShape.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBeginHandler,this)},t}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");