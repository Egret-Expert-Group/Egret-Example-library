var Main=function(t){function e(){t.call(this),this.once(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e),s=i.prototype;return s.onAddToStage=function(t){var e=new egret.ImageLoader;e.once(egret.Event.COMPLETE,this.imgLoadHandler,this),e.load("resource/cartoon-egret_03.png")},s.launchMask=function(){this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandler,this)},s.updateBird=function(t,e){this._bird.x=t,this._bird.y=e},s.touchHandler=function(t){switch(t.type){case egret.TouchEvent.TOUCH_MOVE:this.updateBird(t.stageX,t.stageY);break;case egret.TouchEvent.TOUCH_BEGIN:this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchHandler,this),this.stage.once(egret.TouchEvent.TOUCH_END,this.touchHandler,this),this._shpBeMask.mask=this._bird,this.updateBird(t.stageX,t.stageY);break;case egret.TouchEvent.TOUCH_END:this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchHandler,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandler,this),this._shpBeMask.mask=null,this._bird.$maskedObject=null}},s.imgLoadHandler=function(t){this._shpBeMask=new egret.Shape,this._shpBeMask.graphics.lineStyle(0),this._shpBeMask.graphics.beginFill(this.getRdmClr()),this._shpBeMask.graphics.drawEllipse(0,0,200,300),this._shpBeMask.graphics.endFill(),this._shpBeMask.x=(this.stage.stageWidth-200)/2,this._shpBeMask.y=(this.stage.stageHeight-300)/2,this.addChild(this._shpBeMask),this._bird=new egret.Bitmap(t.currentTarget.data);var e=this._bird.width/2,i=this._bird.height/2;this._bird.anchorOffsetX=e,this._bird.anchorOffsetY=i,this._bird.x=e+(this.stage.stageWidth-2*e)*Math.random(),this._bird.y=i+(this.stage.stageHeight-2*i)*Math.random(),this.addChild(this._bird),this._txInfo=new egret.TextField,this.addChildAt(this._txInfo,0),this._txInfo.size=28,this._txInfo.x=50,this._txInfo.y=50,this._txInfo.width=this.stage.stageWidth-100,this._txInfo.textAlign=egret.HorizontalAlign.LEFT,this._txInfo.textColor=0,this._txInfo.type=egret.TextFieldType.DYNAMIC,this._txInfo.lineSpacing=6,this._txInfo.multiline=!0,this._txInfo.touchEnabled=!0,this._txInfo.text="接触屏幕后白鹭小鸟将变为椭圆形状的遮罩区域，可以移动手指（白鹭小鸟）并观察椭圆在遮罩下的显示变化",this.launchMask()},s.getRdmClr=function(){return(Math.floor(255*Math.random())<<16)+(Math.floor(255*Math.random())<<8)+Math.floor(255*Math.random())},e}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");