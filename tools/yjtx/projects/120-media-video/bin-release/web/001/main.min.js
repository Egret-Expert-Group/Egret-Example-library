var Main=function(e){function t(){e.call(this),this._pauseTime=0,this.loadVideo(),this.initCtr()}__extends(t,e);var i=(__define,t),s=i.prototype;return s.loadVideo=function(){this._video=new egret.Video,this._video.x=100,this._video.y=200,this._video.width=427,this._video.height=240,this._video.fullscreen=!1,this._video.poster=this._video.fullscreen?"resource/assets/posterfullscreen.jpg":"resource/assets/posterinline.jpg",this._video.load("resource/assets/trailer.mp4"),this.addChild(this._video),this._video.addEventListener(egret.Event.COMPLETE,function(e){console.log("complete")},this)},s.play=function(){this.stop(),this._video.play(this._pauseTime,!1),this._video.addEventListener(egret.Event.ENDED,this.onComplete,this)},s.stop=function(){this._video.pause()},s.onComplete=function(e){console.log("播放结束"),this._video.removeEventListener(egret.Event.ENDED,this.onComplete,this),this.setAllAbled(!1)},s.changeScreen=function(){this._video.paused||(this._video.fullscreen=!this._video.fullscreen)},s.initCtr=function(){var e=this._video,t=this._video.width/4+5,i=100,s=this._playTxt=new egret.TextField;s.text="播放",s.size=40,s.x=this._video.x,s.y=400+i,s.touchEnabled=!0,s.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){this.play(this._pauseTime,!1),this.setAllAbled(!0)},this),this.addChild(s);var n=this._stopTxt=new egret.TextField;n.text="停止",n.size=40,n.x=s.x+1*t,n.y=400+i,n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){this._pauseTime=0,e.pause(),this.setAllAbled(!1)},this),this.addChild(n);var o=this._pauseTxt=new egret.TextField;o.text="暂停",o.size=40,o.x=s.x+2*t,o.y=400+i,o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){this._pauseTime=e.position,e.pause(),this.setAllAbled(!1)},this),this.addChild(o);var h=this._fullTxt=new egret.TextField;h.text="全屏",h.size=40,h.x=s.x+3*t,h.y=400+i,h.touchEnabled=!0,h.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){this.changeScreen()},this),this.addChild(h),this.setAllAbled(!1)},s.setAllAbled=function(e){this.setTextAbled(this._playTxt,!e),this.setTextAbled(this._stopTxt,e),this.setTextAbled(this._pauseTxt,e),this.setTextAbled(this._fullTxt,e)},s.setTextAbled=function(e,t){e.touchEnabled=t,t?e.textColor=16777215:e.textColor=10066329},t}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");