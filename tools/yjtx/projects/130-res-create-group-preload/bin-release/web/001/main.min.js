var Main=function(e){function t(){e.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(t,e);var o=(__define,t),r=o.prototype;return r.onAddToStage=function(e){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},r.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),egret.log("创建前："+RES.getGroupByName("icons").length),RES.createGroup("icons",["cartoon-egret_00_png","cartoon-egret_01_png","cartoon-egret_02_png","cartoon-egret_03_png"]),egret.log("创建后："+RES.getGroupByName("icons").length),RES.loadGroup("icons")},r.onResourceLoadComplete=function(e){"icons"==e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},r.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},r.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},r.onResourceProgress=function(e){"icons"==e.groupName},r.createGameScene=function(){this.createBitmapByName("cartoon-egret_00_png",this.stage.stageWidth/2,200),this.createBitmapByName("cartoon-egret_01_png",this.stage.stageWidth/2+200,400),this.createBitmapByName("cartoon-egret_02_png",this.stage.stageWidth/2-200,400),this.createBitmapByName("cartoon-egret_03_png",this.stage.stageWidth/2,600)},r.createBitmapByName=function(e,t,o){var r=new egret.Bitmap,n=RES.getRes(e);r.texture=n,r.scaleX=r.scaleY=.5,r.anchorOffsetX=r.width/2,r.anchorOffsetY=r.height/2,r.x=t,r.y=o,this.addChild(r)},t}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");